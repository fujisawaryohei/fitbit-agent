# 企画書: Fitbit Body Management AI Agent

## 1. プロダクト概要

### コンセプト
Fitbitのヘルスデータを活用し、AIがパーソナルボディコーチとして
ユーザーの体型管理を継続的にサポートするWebアプリケーション。

### 解決する課題
- Fitbitはデータを記録するが、**具体的なアクションの提案**が弱い
- 体型管理は継続が難しく、**モチベーション維持**のサポートが必要
- 個人の体質・生活リズムに合った**パーソナライズされたアドバイス**が不足

### ターゲットユーザー
- Fitbitデバイスを利用している一般ユーザー
- 体重管理・ボディメイクに関心がある20〜40代
- データは取っているが活用できていないと感じている人

---

## 2. 主要機能

### Phase 1: MVP（最小実用プロダクト）
| 機能 | 説明 |
|------|------|
| Fitbit連携 | OAuth2.0によるFitbit APIデータ取得（体重・運動・睡眠・食事） |
| ダッシュボード | 取得データの一覧表示・推移グラフ |
| AIコーチング | ユーザーのデータに基づく日次/週次アドバイス生成 |
| 目標設定 | 体重目標・運動目標の設定と進捗追跡 |

### Phase 2: 拡張機能
| 機能 | 説明 |
|------|------|
| リマインド通知 | メール/ブラウザ通知による目標リマインダー |
| 食事提案 | カロリー収支に基づく食事メニュー提案 |
| 運動プラン | 運動履歴に基づくトレーニングプラン生成 |
| 週次レポート | 1週間のサマリーと来週のアクションプラン |

### Phase 3: 高度な機能
| 機能 | 説明 |
|------|------|
| トレンド予測 | 体重推移の予測モデル |
| コミュニティ | 匿名での目標共有・モチベーション機能 |
| 外部連携 | 他のヘルスアプリとの連携 |

---

## 3. 技術スタック

| カテゴリ | 技術 | 理由 |
|----------|------|------|
| 言語 | Java 21+ | ユーザー選定 |
| フレームワーク | Spring Boot 3.x | Java Webアプリのデファクトスタンダード |
| ビルドツール | Maven | 安定性と広い採用実績 |
| DB | PostgreSQL | 時系列ヘルスデータの管理に適切 |
| AI | Claude API (Anthropic) | 自然言語でのコーチング生成 |
| フロントエンド | React | リッチなダッシュボードUI構築に適切 |
| 認証 | Spring Security + OAuth2 | Fitbit OAuth2連携 |
| デプロイ | AWS | クラウドインフラ |

---

## 4. Fitbit API利用データ

### 取得予定のデータ
- **Body**: 体重、体脂肪率、BMI
- **Activity**: 歩数、消費カロリー、運動記録
- **Sleep**: 睡眠時間、睡眠品質
- **Nutrition**: 摂取カロリー、水分摂取量
- **Heart Rate**: 心拍数データ

### API制限
- レート制限: 150 requests/hour per user
- OAuth 2.0 Authorization Code Grant Flow
- スコープ: activity, heartrate, nutrition, sleep, weight

---

## 5. ユーザーストーリー（MVP）

1. **ユーザーとして**、Fitbitアカウントでログインし、自分のデータを取り込みたい
2. **ユーザーとして**、体重・運動・睡眠の推移をグラフで確認したい
3. **ユーザーとして**、目標体重を設定し、あとどれくらいか確認したい
4. **ユーザーとして**、今日の運動量・食事に対するAIからのアドバイスが欲しい
5. **ユーザーとして**、週次でまとめと来週のアクションプランを受け取りたい

---

## 6. 今後のステップ

1. [x] 企画書レビュー・承認
2. [ ] 要件定義書の作成
3. [ ] Fitbit API開発者登録・動作確認
4. [ ] アーキテクチャ設計
5. [ ] MVP実装開始

---

## 更新履歴
- 2026-02-05: 初版作成
